'use strict';

/**
 * Evaluates the probability density function (PDF) for a Rice distribution.
 *
 * @param {number} x - input value
 * @param {number} nu - noncentrality parameter
 * @param {number} sigma - scale parameter
 * @returns {number} evaluated PDF
 */
function pdf(x, nu, sigma) {
    if (sigma <= 0) {
        throw new Error('Scale parameter `sigma` must be positive');
    }
    const factor = x / (sigma * sigma);
    const expFactor = Math.exp(-((x*x + nu*nu) / (2 * sigma * sigma)));
    const bessel = require('@stdlib/math/base/special/bessel0');
    return factor * expFactor * bessel(x * nu / (sigma * sigma));
}

module.exports = pdf;
